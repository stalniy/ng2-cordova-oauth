<!DOCTYPE html>
<html>
<head>
  <title>test me</title>
  <style>
    label {
      display: block;
    }
  </style>
</head>
<body>
  <form name="social">
    <label><input type="radio" value="instagram" name="network"> Instagram</label>
    <label><input type="radio" value="linkedin" name="network"> Linked In</label>
    <label><input type="radio" value="google" name="network"> Google</label>
    <label><input type="radio" value="facebook" name="network"> Facebook</label>
    <label><input type="radio" value="imgur" name="network"> Imgur</label>
    <label><input type="radio" value="meetup" name="network"> Meetup</label>

    <button type="button" onclick="openWindow(document.forms.social.network.value)">open window</button>
  </form>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/systemjs/0.19.31/system.js"></script>
  <script src="./oauthify.js"></script>
  <script type="text/javascript">
    System.import('core').then((module) => {
      const oAuth = module.oAuth.detect()
      let networks = {};
      networks.facebook = new module.Facebook({
        clientId: '573676459473149',
        redirectUri: 'http://localhost:8080',
        appScope: ['email'],
        responseType: 'code'
      })
      networks.google = new module.Google({
        clientId: '1068534665812-14l671uddtvt8gr3ugpi5mvg384pogrh.apps.googleusercontent.com',
        redirectUri: 'http://localhost:8080',
        appScope: ['email'],
        responseType: 'code'
      })
      networks.linkedin = new module.LinkedIn({
        clientId: '78xt3a3jjx2lh8',
        redirectUri: 'http://localhost:8080',
        responseType: 'code'
      })
      networks.instagram = new module.Instagram({
        clientId: 'a60421270c714b55bfc96ccf58d83d1c',
        redirectUri: 'http://localhost:8080',
        responseType: 'code'
      })
      networks.imgur = new module.Imgur({
        clientId: '79457a971addd8f',
        redirectUri: 'http://localhost:8080',
        responseType: 'code'
      })
      networks.meetup = new module.Meetup({
        clientId: '56uq0g6t45nd636r066rkuk8gh',
        redirectUri: 'http://localhost:8080',
        responseType: 'code'
      })

      window.openWindow = function(type) {
        oAuth.logInVia(networks[type])
          .then(response => console.log(response))
          .catch(error => console.error(error.response))
      }
    })
  </script>
</body>
</html>
